<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Тесты</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-container { display: none; }
        .question { margin-bottom: 20px; }
        .error { color: red; display: none; }
        .result { display: none; color: green; }
    </style>
</head>
<body>
    <h1>Выберите тест</h1>
    <select id="test-select">
        <option value="">-- Выберите тест --</option>
        <option value="math">Математический тест</option>
        <option value="history">Исторический тест</option>
    </select>

    <!-- Математический тест -->
    <div id="math" class="test-container">
        <h2>Математический тест</h2>
        <form id="math-form">
            <div class="question">
                <p>1. Сколько будет 2 + 2?</p>
                <label><input type="radio" name="q1" value="4"> 4</label><br>
                <label><input type="radio" name="q1" value="5"> 5</label><br>
                <label><input type="radio" name="q1" value="3"> 3</label>
            </div>
            <div class="question">
                <p>2. Сколько углов в треугольнике?</p>
                <label><input type="radio" name="q2" value="3"> 3</label><br>
                <label><input type="radio" name="q2" value="4"> 4</label><br>
                <label><input type="radio" name="q2" value="5"> 5</label>
            </div>
            <div class="question">
                <p>3. Корень из 9?</p>
                <label><input type="radio" name="q3" value="3"> 3</label><br>
                <label><input type="radio" name="q3" value="2"> 2</label><br>
                <label><input type="radio" name="q3" value="4"> 4</label>
            </div>
            <button type="button" onclick="checkTest('math')">Проверить</button>
            <p id="math-error" class="error">Вы не ответили на все вопросы!</p>
            <p id="math-result" class="result"></p>
        </form>
    </div>

    <!-- Исторический тест -->
    <div id="history" class="test-container">
        <h2>Исторический тест</h2>
        <form id="history-form">
            <div class="question">
                <p>1. Когда была Вторая мировая война?</p>
                <label><input type="radio" name="q1" value="1939-1945"> 1939-1945</label><br>
                <label><input type="radio" name="q1" value="1914-1918"> 1914-1918</label><br>
                <label><input type="radio" name="q1" value="1945-1950"> 1945-1950</label>
            </div>
            <div class="question">
                <p>2. Кто открыл Америку?</p>
                <label><input type="radio" name="q2" value="Колумб"> Колумб</label><br>
                <label><input type="radio" name="q2" value="Магеллан"> Магеллан</label><br>
                <label><input type="radio" name="q2" value="Веспуччи"> Веспуччи</label>
            </div>
            <div class="question">
                <p>3. Столица Древнего Рима?</p>
                <label><input type="radio" name="q3" value="Рим"> Рим</label><br>
                <label><input type="radio" name="q3" value="Афины"> Афины</label><br>
                <label><input type="radio" name="q3" value="Спарта"> Спарта</label>
            </div>
            <button type="button" onclick="checkTest('history')">Проверить</button>
            <p id="history-error" class="error">Вы не ответили на все вопросы!</p>
            <p id="history-result" class="result"></p>
        </form>
    </div>

    <script>
        const tests = {
            math: {
                answers: { q1: '4', q2: '3', q3: '3' },
                questions: 3
            },
            history: {
                answers: { q1: '1939-1945', q2: 'Колумб', q3: 'Рим' },
                questions: 3
            }
        };

        document.getElementById('test-select').addEventListener('change', function() {
            const selected = this.value;
            document.querySelectorAll('.test-container').forEach(div => div.style.display = 'none');
            if (selected) {
                document.getElementById(selected).style.display = 'block';
            }
        });

        function checkTest(testId) {
            const form = document.getElementById(testId + '-form');
            const error = document.getElementById(testId + '-error');
            const result = document.getElementById(testId + '-result');
            const correctAnswers = tests[testId].answers;
            const totalQuestions = tests[testId].questions;

            let allAnswered = true;
            let score = 0;

            for (let i = 1; i <= totalQuestions; i++) {
                const question = form.querySelector(`input[name="q${i}"]:checked`);
                if (!question) {
                    allAnswered = false;
                    break;
                }
                if (question.value === correctAnswers[`q${i}`]) {
                    score++;
                }
            }

            error.style.display = 'none';
            result.style.display = 'none';

            if (!allAnswered) {
                error.style.display = 'block';
            } else {
                result.textContent = `Вы правильно ответили на ${score} из ${totalQuestions} вопросов.`;
                result.style.display = 'block';
            }
        }
    </script>
</body>
</html>